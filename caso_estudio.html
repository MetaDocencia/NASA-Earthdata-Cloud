<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="es" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introducción al uso de datos Nasa Earthdata cloud: Caso de estudio</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/metadocencia/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/metadocencia/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/metadocencia/favicon-16x16.png"><link rel="manifest" href="favicons/metadocencia/site.webmanifest"><link rel="mask-icon" href="favicons/metadocencia/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav metadocencia"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Ir al contenido principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="metadocencia-logo" alt="MetaDocencia" src="assets/images/metadocencia-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/caso_estudio.html';">Vista de la instructora</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav metadocencia" aria-label="Navegación principal"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Alternar navegación">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menú</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="MetaDocencia" src="assets/images/metadocencia-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introducción al uso de datos Nasa Earthdata cloud
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Buscar en la página All In One" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introducción al uso de datos Nasa Earthdata cloud
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Puntos Clave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glosario</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Perfiles de estudiante</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Más <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Referencia</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Buscar en la página All In One"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Buscar en la página All In One">Buscar en la página All In One</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introducción al uso de datos Nasa Earthdata cloud
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 72%" class="percentage">
    72%
  </div>
  <div class="progress metadocencia">
    <div class="progress-bar metadocencia" role="progressbar" style="width: 72%" aria-valuenow="72" aria-label="Progreso de la lección" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Cerrar menú" alt="Cerrar menú" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cerrar " data-episodes="Episodios ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista de estudiante
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/caso_estudio.html">Vista de la instructora</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODIOS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Resumen y configuración</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="fundamentos.html">1. Fundamentos de teledetección</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="sistemas_de_coordenadas.html">2. Sistemas de coordenadas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="datos_geoespaciales.html">3. Modelos de datos geoespaciales</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="OPERA_products.html">4. NASA Earthdata Cloud y productos OPERA</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Caso de estudio
        </span>
      
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RECURSOS
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Puntos Clave</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glosario</a>
                      </li>
                      <li>
                        <a href="profiles.html">Perfiles de estudiante</a>
                      </li>
                      <li><a href="reference.html">Referencia</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">Todo en una sola página</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Capítulo previo y siguiente"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="OPERA_products.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="index.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="OPERA_products.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: NASA Earthdata Cloud
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Inicio
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Caso de estudio</h1>
        <p>Última actualización: 2025-08-07 |

        <a href="https://metadocencia.github.io/NASA-Earthdata-Cloud/edit/main/episodes/caso_estudio.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="section level1">
<h1 id="deforestación-en-maranhão">Deforestación en Maranhão<a class="anchor" aria-label="anchor" href="#deforestaci%C3%B3n-en-maranh%C3%A3o"></a></h1>
<!-- #region jupyter={"source_hidden": true} -->
<p>La Amazonía es una de las regiones más biodiversas del planeta y un
componente clave del sistema climático global que además sostiene
múltiples comunidades indígenas. En particular el estado de Maranhão, en
Brasil, es uno de los focos más críticos de deforestación en el país. Se
estima que el 76 % de la cobertura original de bosque amazónico en este
estado ha sido destruida. Según Global Forest Watch, Maranhão ha
registrado una de las tasas más altas de pérdida de cobertura boscosa en
Brasil en los últimos años, impulsada por incendios, expansión
agropecuaria y tala ilegal. Estos procesos están estrechamente ligados a
la fragmentación ecológica, la pérdida de biodiversidad y la violencia
hacia comunidades indígenas. Frente a este escenario, el monitoreo
sistemático de los cambios en la cobertura vegetal es fundamental. Los
productos OPERA DIST-HLS, derivados principalmente de Landsat
(NASA/USGS) y Sentinel-2 (ESA), ofrecen una herramienta poderosa para
detectar disturbios recientes y aportar evidencia clave para la
conservación y la formulación de políticas públicas basadas en
datos.</p>
<figure style="text-align: center;"><img src="https://tse3.mm.bing.net/th/id/OIP.sSfdF5nBFUWbh3UImdbyVgHaE7?pid=Api" alt="Buriticupu - erosión" style="max-width: 100%; height: auto;" class="figure"><figcaption style="font-size: 0.9em; color: #555;">
Foto: AFP / El País (2023)
</figcaption></figure><!-- #endregion --><div class="section level2">
<h2 id="section"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section"></a></h2>
<!-- #endregion -->
</div>
<div class="section level2">
<h2 id="ruta-de-trabajo">Ruta de trabajo<a class="anchor" aria-label="anchor" href="#ruta-de-trabajo"></a></h2>
<!-- #region jupyter={"source_hidden": true} -->
<p>Nuestro objetivo es evaluar la deforestación en un area cercana a la
ciudad de Buriticupu en el estado Maranhao. Para eso en esta notebook
vamos a :</p>
<ol style="list-style-type: decimal"><li>Filtrar y seleccionar los productos OPERA DIST-ALERT desde la
nube</li>
<li>Visualizar y explorar los subproductos VEG_DIST_STATUS</li>
<li>Gráficar la evolución del disturbio a lo largo del tiempo.</li>
<li>Generar un mapa de disturbios</li>
<li>Explorar subproducto VEG_DIST_DATE <!-- #endregion -->
</li>
</ol></div>
<div class="section level2">
<h2 id="section-1"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-1"></a></h2>
<!-- #endregion -->
<div class="section level3">
<h3 id="antes-de-empezar---importar-librerías-que-vamos-a-utilizar">Antes de empezar - Importar librerías que vamos a utilizar<a class="anchor" aria-label="anchor" href="#antes-de-empezar---importar-librer%C3%ADas-que-vamos-a-utilizar"></a></h3>
<p><code>python jupyter={"source_hidden": true} #librerias para manipulación de datos from warnings import filterwarnings #suprime los warning filterwarnings('ignore') import numpy as np, pandas as pd, xarray as xr import rioxarray as rio import rasterio</code></p>
<p><code>python jupyter={"source_hidden": true} #librerias para visualización import hvplot.pandas, hvplot.xarray import geoviews as gv from geoviews import opts gv.extension('bokeh')</code></p>
<p><code>python jupyter={"source_hidden": true} #configuración de acceso a datos geoespaciales desde la nube from pystac_client import Client from osgeo import gdal gdal.SetConfigOption('GDAL_HTTP_COOKIEFILE','~/.cookies.txt') gdal.SetConfigOption('GDAL_HTTP_COOKIEJAR', '~/.cookies.txt') gdal.SetConfigOption('GDAL_DISABLE_READDIR_ON_OPEN','EMPTY_DIR') gdal.SetConfigOption('CPL_VSIL_CURL_ALLOWED_EXTENSIONS','TIF, TIFF')</code></p>
</div>
</div>
<div class="section level2">
<h2 id="section-2"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-2"></a></h2>
<!-- #endregion -->
<div class="section level3">
<h3 id="filtrar-y-seleccionar-los-productos-opera-desde-la-nube">1. FILTRAR Y SELECCIONAR LOS PRODUCTOS OPERA DESDE LA NUBE<a class="anchor" aria-label="anchor" href="#filtrar-y-seleccionar-los-productos-opera-desde-la-nube"></a></h3>
<!-- #region jupyter={"source_hidden": false} -->
<div class="section level4">
<h4 id="a-seleccionar-el-area-de-estudio">1.a Seleccionar el area de estudio<a class="anchor" aria-label="anchor" href="#a-seleccionar-el-area-de-estudio"></a></h4>
<!-- #endregion -->
<p><code>python jupyter={"source_hidden": true} # PASOS PARA SELECCIONAR EL ÁREA DE ESTUDIO (AOI)  # Usar la herramienta online: https://boundingbox.klokantech.com/ # 1. Buscar la zona de interés y dibujar un rectángulo sobre el mapa. # 2. En la sección "Copy &amp; Paste", seleccionar el formato "CSV". # 3. Copiar las coordenadas  # Estas coordenadas están en el orden correcto requerido por STAC: # bbox = [xmin, ymin, xmax, ymax] = [long_oeste, lat_sur, long_este, lat_norte]</code></p>
<!-- #region jupyter={"source_hidden": true} -->
<p>Coordenadas copiadas de boundingbox
-46.52993,-4.383815,-46.363075,-4.243793 <!-- #endregion --></p>
<p><code>python jupyter={"source_hidden": true} #Definir el AOI con las coordenadas  AOI = [-46.52993,-4.383815,-46.363075,-4.243793] rango_fechas = "2022-01-01/2024-03-31"</code></p>
<!-- #region jupyter={"source_hidden": false} -->
</div>
<div class="section level4">
<h4 id="b-explorar-y-buscar-los-productos-opera-dist-alert">1.b Explorar y buscar los productos OPERA DIST-ALERT<a class="anchor" aria-label="anchor" href="#b-explorar-y-buscar-los-productos-opera-dist-alert"></a></h4>
<!-- #endregion -->
<p>```python jupyter={“source_hidden”: true} # Realizamos la búsqueda de
productos OPERA DIST-ALERT para ver fechas disponibles from
pystac_client import Client</p>
<p>#parámetros de búsqueda search_params = { “bbox”: AOI, “datetime”:
rango_fechas, “collections”: [“OPERA_L3_DIST-ALERT-HLS_V1_1”] }</p>
<p>client = Client.open(“<a href="https://cmr.earthdata.nasa.gov/stac/LPCLOUD/" class="external-link uri">https://cmr.earthdata.nasa.gov/stac/LPCLOUD/</a>”) items =
list(client.search(**search_params).get_items())</p>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="extraemos-fechas-disponibles">Extraemos fechas disponibles<a class="anchor" aria-label="anchor" href="#extraemos-fechas-disponibles"></a></h1>
<p>fechas = sorted({item.datetime.date() for item in items})
print(f”Fechas disponibles ({len(fechas)}):“) print(fechas)</p>
<pre><code>
&lt;!-- #region jupyter={"source_hidden": false} --&gt;
---
&lt;!-- #endregion --&gt;

&lt;!-- #region jupyter={"source_hidden": true} --&gt;
**Cada item OPERA DIST-ALERT incluye varios assets `.tif`, y cada uno representa una capa de información distinta:**

- **VEG-DIST-STATUS.tif**: detección de disturbio
- **VEG-DIST-CONF.tif**: nivel de confianza de la detección
- **VEG-DIST-DATE.tif**: fecha en que se detectó el disturbio
- **VEG-ANOM.tif**: anomalía de la vegetación
- **VEG-IND.tif**: índice de vegetación
- **VEG-LAST-DATE.tif**: última fecha sin disturbio detectado
- **VEG-DIST-DUR.tif**: duración acumulada del disturbio
- **VEG-DIST-COUNT.tif**: número de disturbios detectados
&lt;!-- #endregion --&gt;

```python jupyter={"source_hidden": true}
#Imprimimos los archivos que se encuentran dentro de 1 item
item = items[0]

print(f"Item - Fecha: {item.datetime.date()}")
for asset_key, asset in item.assets.items():
    print(f"  Asset: {asset_key} → {asset.href}")</code></pre>
<div class="section level2">
<h2 id="section-3"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-3"></a></h2>
<!-- #endregion -->
<!-- #region jupyter={"source_hidden": false} -->
<div class="section level4">
<h4 id="c-filtramos-los-asset-veg_dist-status-con-baja-nubosidad">1.c Filtramos los asset VEG_DIST-STATUS con baja nubosidad<a class="anchor" aria-label="anchor" href="#c-filtramos-los-asset-veg_dist-status-con-baja-nubosidad"></a></h4>
<!-- #endregion -->
<p>```python jupyter={“source_hidden”: true} # Recorremos todos los
productos encontrados y seleccionamos solo los archivos .tif #
correspondientes al asset ‘VEG-DIST-STATUS’ # Guardamos la fecha del
producto y el link al archivo</p>
<p>veg_status_assets = []</p>
<p>for item in items: for key, asset in item.assets.items(): if
“VEG-DIST-STATUS” in key and asset.href.endswith(“.tif”):
veg_status_assets.append({ “fecha”: item.datetime.date(), “url”:
asset.href })</p>
<p>print(f”Se encontraron {len(veg_status_assets)} archivos
VEG-DIST-STATUS.”)</p>
<p>#imprimimos los primeros 10 for registro in veg_status_assets[:10]:
print(f” {registro[‘fecha’]} → {registro[‘url’]}“)</p>
<pre><code>
```python jupyter={"source_hidden": true}
# Imprimimos cloud_cover de los items con asset VEG-DIST-STATUS
for item in items:
    if any("VEG-DIST-STATUS" in k for k in item.assets):
        print(f"{item.datetime.date()} → Cloud cover: {item.properties.get('eo:cloud_cover', 'No disponible')}")</code></pre>
<p>```python jupyter={“source_hidden”: true} filtrados = []</p>
<p>for item in items: cloud = item.properties.get(‘eo:cloud_cover’,
None) if cloud is not None and cloud &lt; 40: for key, asset in
item.assets.items(): if ( “VEG-DIST-STATUS” in key and
asset.href.endswith(“.tif”) and asset.href.startswith(“https”) ):
filtrados.append({ “fecha”: item.datetime.date(), “url”: asset.href,
“nubes”: cloud }) print(f”Se encontraron {len(filtrados)} archivos con
menos de 40% de nubes.”) for registro in filtrados[:10]:
print(f”{registro[‘fecha’]} → Cloud cover: {registro[‘nubes’]} →
{registro[‘url’]}“)</p>
<pre><code>
&lt;!-- #region jupyter={"source_hidden": false} --&gt;
---
&lt;!-- #endregion --&gt;

### 2. VISUALIZAR Y EXPLORAR Productos VEG_DIST_STATUS

```python jupyter={"source_hidden": true}
#Visualizar productos VEG_DIST_STATUS en el area de interes.

#convertir a shp las coordenadas del area de interes (AOI)
from shapely.geometry import box
import geopandas as gpd

# AOI definido como bounding box
aoi_coords = [-46.78, -4.61, -46.58, -4.41]  # xmin, ymin, xmax, ymax
aoi_geom = box(*aoi_coords)
AOI = gpd.GeoDataFrame(geometry=[aoi_geom], crs="EPSG:4326")</code></pre>
<p>```python jupyter={“source_hidden”: true} #Visualizar la primer y
ultima fecha del los productos filtrados import matplotlib.pyplot as plt
import matplotlib.colors as mcolors import geopandas as gpd import
rioxarray</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="crear-colormap-personalizado">Crear colormap personalizado<a class="anchor" aria-label="anchor" href="#crear-colormap-personalizado"></a></h1>
<p>white_to_red =
mcolors.LinearSegmentedColormap.from_list(“white_to_red”, [“white”,
“red”])</p>
</div>
<div class="section level1">
<h1 id="urls-de-los-dos-productos">URLs de los dos productos<a class="anchor" aria-label="anchor" href="#urls-de-los-dos-productos"></a></h1>
<p>urls = [ (“2023/06/26”, “<a href="https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1_VEG-DIST-STATUS.tif" class="external-link uri">https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1_VEG-DIST-STATUS.tif</a>”),
(“2023/09/18”, “<a href="https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1_VEG-DIST-STATUS.tif" class="external-link uri">https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1_VEG-DIST-STATUS.tif</a>”)]</p>
</div>
<div class="section level1">
<h1 id="crear-figura">Crear figura<a class="anchor" aria-label="anchor" href="#crear-figura"></a></h1>
<p>fig, axes = plt.subplots(1, 2, figsize=(12, 6),
constrained_layout=True)</p>
<p>for ax, (label, url) in zip(axes, urls): da =
rioxarray.open_rasterio(url, masked=True).squeeze() # Reproyectar AOI al
CRS del raster aoi_proj = AOI.to_crs(da.rio.crs) # Recorte da_clip =
da.rio.clip(aoi_proj.geometry, aoi_proj.crs) # Plot img = da_clip.plot(
ax=ax, cmap=white_to_red, vmin=0, vmax=8, add_colorbar=False )
aoi_proj.boundary.plot(ax=ax, edgecolor=“black”, linewidth=0.5)
ax.set_title(f”Disturbios detectados“) ax.axis(”off”)</p>
</div>
<div class="section level1">
<h1 id="agregar-colorbar-común">Agregar colorbar común<a class="anchor" aria-label="anchor" href="#agregar-colorbar-com%C3%BAn"></a></h1>
<p>cbar = fig.colorbar(img, ax=axes.ravel().tolist(), shrink=0.6,
label=“Vegetation_disturbance_status”) plt.show()</p>
<pre><code>
&lt;!-- #region jupyter={"source_hidden": true} --&gt;
Valores del producto `VEG-DIST-STATUS`:

- **0:** Sin alteración
- **1:** Primera detección de alteraciones con cambios en la cobertura vegetal &lt;50%
- **2:** Detección provisional de alteraciones con cambios en la cobertura vegetal &lt;50%
- **3:** Detección confirmada de alteraciones con cambios en la cobertura vegetal &lt; 50%
- **4:** Primera detección de alteraciones con cambios en la cobertura vegetal ≥50%
- **5:** Detección provisional de alteraciones con cambios en la cobertura vegetal ≥50%
- **6:** Detección confirmada de alteraciones con cambios en la cobertura vegetal ≥50%
- **7:** Detección finalizada de alteraciones con cambios en la cobertura vegetal &lt;50%
- **8:** Detección finalizada de alteraciones con cambios en lacobertura vegetal ≥50%
- **255** Datos faltantes
&lt;!-- #endregion --&gt;



```python jupyter={"source_hidden": true}
#Graficar la distribución de los valores de disturbios en dos subproductos DIST-VEG-ALERT

import matplotlib.pyplot as plt
import numpy as np
import rioxarray

# URLs de los dos productos
urls = [
    ("2023/06/26", "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230626T133151Z_20231221T083621Z_S2A_30_v1_VEG-DIST-STATUS.tif"),
    ("2023/09/18", "https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1_VEG-DIST-STATUS.tif")
]

# Leer y calcular frecuencias primero
frecuencias = []
for label, url in urls:
    da = rioxarray.open_rasterio(url, masked=True).squeeze()
    aoi_proj = AOI.to_crs(da.rio.crs)
    da_clip = da.rio.clip(aoi_proj.geometry, aoi_proj.crs)
    vals = da_clip.values.flatten()
    vals = vals[(vals &gt; 0) &amp; (~np.isnan(vals))]
    hist, _ = np.histogram(vals, bins=np.arange(0.5, 9.5, 1))
    frecuencias.append((label, hist))

# Encontrar el máximo para escalar ambos plots
ymax = max(hist.max() for _, hist in frecuencias)

# Gráfico
fig, axes = plt.subplots(1, 2, figsize=(12, 4), constrained_layout=True)
for ax, (label, hist) in zip(axes, frecuencias):
    ax.bar(range(1, 9), hist, color='crimson', edgecolor='black', alpha=0.7)
    ax.set_xticks(range(1, 9))
    ax.set_ylim(0, ymax + ymax * 0.1)
    ax.set_title(f"Histograma - {label}")
    ax.set_xlabel("Clase de disturbio")
    ax.set_ylabel("Frecuencia")

plt.suptitle("Distribución de clases de disturbio detectadas", fontsize=14)
plt.show()</code></pre>
<div class="section level2">
<h2 id="section-4"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-4"></a></h2>
<!-- #endregion -->
<div class="section level3">
<h3 id="evolución-del-disturbio-a-lo-largo-del-tiempo">3. EVOLUCIÓN DEL DISTURBIO A LO LARGO DEL TIEMPO<a class="anchor" aria-label="anchor" href="#evoluci%C3%B3n-del-disturbio-a-lo-largo-del-tiempo"></a></h3>
<p>```python jupyter={“source_hidden”: true} # Stack de los 12
subproductos VEG-DIST-STATUS</p>
<p>from rioxarray import open_rasterio import xarray as xr import numpy
as np import pandas as pd</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="recortar-cada-raster-al-aoi-y-luego-apilar">Recortar cada raster al AOI y luego apilar<a class="anchor" aria-label="anchor" href="#recortar-cada-raster-al-aoi-y-luego-apilar"></a></h1>
<p>raster_list = [] fechas = []</p>
<p>for f in filtrados:<br>
da = open_rasterio(f[“url”], masked=True).squeeze() aoi_proj =
AOI.to_crs(da.rio.crs) da_clip = da.rio.clip(aoi_proj.geometry,
aoi_proj.crs)</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">SH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode sh" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">raster_list.append</span><span class="er">(</span><span class="ex">da_clip</span><span class="kw">)</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="ex">fechas.append</span><span class="er">(</span><span class="ex">pd.Timestamp</span><span class="er">(</span><span class="va">f</span><span class="op">[</span><span class="st">"fecha"</span><span class="op">]</span><span class="kw">))</span></span></code></pre>
</div>
</div>
<div class="section level1">
<h1 id="crear-el-stack-recortado">Crear el stack recortado<a class="anchor" aria-label="anchor" href="#crear-el-stack-recortado"></a></h1>
<p>stack = xr.concat(raster_list, dim=“time”) stack[“time”] = fechas</p>
<pre><code>
```python jupyter={"source_hidden": true}
stack</code></pre>
<p>```python jupyter={“source_hidden”: true} #Graficar el area
disturbada acumulada en el area de estudio</p>
<p>import matplotlib.pyplot as plt</p>
<p>#ordenaar el stack por fecha stack_sorted = stack.sortby(“time”)</p>
</div>
<div class="section level1">
<h1 id="crear-máscara-booleana-donde-el-valor-sea-6-disturbio-confirmado">Crear máscara booleana donde el valor sea 6 (disturbio
confirmado)<a class="anchor" aria-label="anchor" href="#crear-m%C3%A1scara-booleana-donde-el-valor-sea-6-disturbio-confirmado"></a></h1>
<p>disturbios = stack_sorted == 6</p>
</div>
<div class="section level1">
<h1 id="sumar-la-cantidad-de-píxeles-por-fecha">Sumar la cantidad de píxeles por fecha<a class="anchor" aria-label="anchor" href="#sumar-la-cantidad-de-p%C3%ADxeles-por-fecha"></a></h1>
<p>pixeles_por_fecha = disturbios.sum(dim=[“x”, “y”])</p>
</div>
<div class="section level1">
<h1 id="convertir-a-km²-cada-píxel-es-de-30m-x-30m-900-m²-0-0009-km²">Convertir a km² (cada píxel es de 30m x 30m = 900 m² = 0.0009
km²)<a class="anchor" aria-label="anchor" href="#convertir-a-km%C2%B2-cada-p%C3%ADxel-es-de-30m-x-30m-900-m%C2%B2-0-0009-km%C2%B2"></a></h1>
<p>km2_por_fecha = pixeles_por_fecha * 0.0009</p>
</div>
<div class="section level1">
<h1 id="graficar">Graficar<a class="anchor" aria-label="anchor" href="#graficar"></a></h1>
<p>plt.figure(figsize=(8, 5)) km2_por_fecha.to_series().plot(marker=‘o’)
plt.title(“Evolución de disturbios confirmados (valor 6)”)
plt.ylabel(“Área acumulada (km²)”) plt.xlabel(“Fecha”) plt.grid(True)
plt.tight_layout() plt.show()</p>
<pre><code>
&lt;!-- #region jupyter={"source_hidden": true} --&gt;
¿Hay algo raro en los graficos?
&lt;!-- #endregion --&gt;

```python jupyter={"source_hidden": true}
# Convertir a DataFrame
df_filtrados = pd.DataFrame(filtrados)
df_filtrados["fecha"] = pd.to_datetime(df_filtrados["fecha"])

# Ordenar por menor cobertura de nubes
df_filtrados = df_filtrados.sort_values("nubes")
#Seleccionar el producto con Sentinel

# Eliminar duplicados dejando el que tiene menor nubosidad
df_filtrados = df_filtrados.drop_duplicates(subset="fecha", keep="first")

# Reconstruir la lista filtrada
filtrados_unicos = df_filtrados.to_dict(orient="records")</code></pre>
<p>```python jupyter={“source_hidden”: true} #VOLVEMOS A CORRER EL STACK
USANDO filtrados_unicos</p>
</div>
<div class="section level1">
<h1 id="stack-de-los-subproductos-veg-dist-status">Stack de los subproductos VEG-DIST-STATUS<a class="anchor" aria-label="anchor" href="#stack-de-los-subproductos-veg-dist-status"></a></h1>
<p>from rioxarray import open_rasterio import xarray as xr import numpy
as np import pandas as pd</p>
</div>
<div class="section level1">
<h1 id="recortar-cada-raster-al-aoi-y-luego-apilar-1">Recortar cada raster al AOI y luego apilar<a class="anchor" aria-label="anchor" href="#recortar-cada-raster-al-aoi-y-luego-apilar-1"></a></h1>
<p>raster_list = [] fechas = []</p>
<p>for f in filtrados_unicos: da = open_rasterio(f[“url”],
masked=True).squeeze() aoi_proj = AOI.to_crs(da.rio.crs) da_clip =
da.rio.clip(aoi_proj.geometry, aoi_proj.crs)</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">SH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode sh" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">raster_list.append</span><span class="er">(</span><span class="ex">da_clip</span><span class="kw">)</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">fechas.append</span><span class="er">(</span><span class="ex">pd.Timestamp</span><span class="er">(</span><span class="va">f</span><span class="op">[</span><span class="st">"fecha"</span><span class="op">]</span><span class="kw">))</span></span></code></pre>
</div>
</div>
<div class="section level1">
<h1 id="crear-el-stack-recortado-1">Crear el stack recortado<a class="anchor" aria-label="anchor" href="#crear-el-stack-recortado-1"></a></h1>
<p>stack = xr.concat(raster_list, dim=“time”) stack[“time”] = fechas</p>
<pre><code>
&lt;!-- #region jupyter={"source_hidden": false} --&gt;
---
&lt;!-- #endregion --&gt;

### 4. GENERAR UN MAPA DE DISTUBIOS

```python jupyter={"source_hidden": true}
import hvplot.xarray
import geoviews as gv
import numpy as np

# Enmascarar valores 0 para que sean transparentes
stack_masked = stack.where(stack != 0)

# Submuestreo para que no sea tan pesado
stack_sub = stack_masked.isel(x=slice(0, None, 4), y=slice(0, None, 4))

# Colormap rojo fuerte
cmap = ["#fff5f5", "#fcbfbf", "#f78787", "#f25454", "#e93232", "#d40000", "#a50000", "#730000"]

# Visualización interactiva
hvplot_map = stack_sub.hvplot(
    x='x',
    y='y',
    groupby='time',
    cmap=cmap,
    clim=(1, 8),
    rasterize=True,
    crs=stack.rio.crs,
    tiles=gv.tile_sources.EsriImagery,
    alpha=0.9,
    frame_width=500,
    frame_height=500,
    title="Evolución de disturbios detectados",
    widget_location='bottom',   # Deslizador de tiempo abajo
    colorbar=True
)

hvplot_map</code></pre>
<div class="section level2">
<h2 id="section-5"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-5"></a></h2>
<!-- #endregion -->
<div class="section level3">
<h3 id="explorar-subproducto-veg_dist-date">5. EXPLORAR SUBPRODUCTO VEG_DIST-DATE<a class="anchor" aria-label="anchor" href="#explorar-subproducto-veg_dist-date"></a></h3>
<p>```python jupyter={“source_hidden”: true} from pystac_client import
Client import pandas as pd</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="abrir-el-catálogo-stac-de-lp-daac">Abrir el catálogo STAC de LP DAAC<a class="anchor" aria-label="anchor" href="#abrir-el-cat%C3%A1logo-stac-de-lp-daac"></a></h1>
<p>catalog = Client.open(“<a href="https://cmr.earthdata.nasa.gov/stac/LPCLOUD/" class="external-link uri">https://cmr.earthdata.nasa.gov/stac/LPCLOUD/</a>”)</p>
</div>
<div class="section level1">
<h1 id="parámetros-de-búsqueda">Parámetros de búsqueda<a class="anchor" aria-label="anchor" href="#par%C3%A1metros-de-b%C3%BAsqueda"></a></h1>
<p>search_params = { “bbox”: [-46.78, -4.61, -46.58, -4.41], # AOI
“datetime”: “2025-01-01/2025-07-26”, # rango de fechas “collections”:
[“OPERA_L3_DIST-ALERT-HLS_V1_1”] }</p>
</div>
<div class="section level1">
<h1 id="buscar-items-en-el-catálogo">Buscar items en el catálogo<a class="anchor" aria-label="anchor" href="#buscar-items-en-el-cat%C3%A1logo"></a></h1>
<p>items = list(catalog.search(**search_params).get_items())</p>
</div>
<div class="section level1">
<h1 id="filtrar-solo-los-assets-veg-dist-date-accesibles-por-https">Filtrar solo los assets VEG-DIST-DATE accesibles por HTTPS<a class="anchor" aria-label="anchor" href="#filtrar-solo-los-assets-veg-dist-date-accesibles-por-https"></a></h1>
<p>filtrado_date = []</p>
<p>for item in items: for asset_key, asset in item.assets.items(): if
“VEG-DIST-DATE” in asset_key and asset.href.startswith(“https”):
filtrado_date.append({ “start_datetime”:
item.properties.get(“start_datetime”), “end_datetime”:
item.properties.get(“end_datetime”), “datetime”: item.datetime,
“cloud_cover”: item.properties.get(“eo:cloud_cover”), “url”: asset.href
})</p>
</div>
<div class="section level1">
<h1 id="convertir-a-dataframe-para-explorar">Convertir a DataFrame para explorar<a class="anchor" aria-label="anchor" href="#convertir-a-dataframe-para-explorar"></a></h1>
<p>df = pd.DataFrame(filtrado_date)</p>
</div>
<div class="section level1">
<h1 id="mostrar-resumen">Mostrar resumen<a class="anchor" aria-label="anchor" href="#mostrar-resumen"></a></h1>
<p>print(f”Se encontraron {len(df)} assets únicos con VEG-DIST-DATE vía
HTTPS.”) df.head()</p>
<pre><code>
```python jupyter={"source_hidden": true}
import matplotlib.pyplot as plt

df["cloud_cover"] = pd.to_numeric(df["cloud_cover"], errors='coerce')
df.plot(
   #x="datetime",
    y="cloud_cover",
    kind="bar",
    figsize=(10, 5),
    color="skyblue",
    title="Cobertura de nubes por escena"
)
# Ocultar etiquetas del eje X
plt.xticks([])

plt.tight_layout()
plt.show()</code></pre>
<p>```python jupyter={“source_hidden”: true} df_bajanubosidad =
df[df[“cloud_cover”] &lt; 20]</p>
<p>df_bajanubosidad.plot( #x=“datetime”, y=“cloud_cover”, kind=“bar”,
figsize=(10, 5), color=“skyblue”, title=“Cobertura de nubes por fecha”
);</p>
<pre><code>
```python jupyter={"source_hidden": true}
# Asegurarse de que la columna de fechas esté como datetime
df_bajanubosidad["end_datetime"] = pd.to_datetime(df_bajanubosidad["end_datetime"])

# Ordenar por fecha final y seleccionar el más reciente
más_reciente_baja_nubosidad = df_bajanubosidad.sort_values("end_datetime", ascending=False).iloc[0]

# Mostrar resultado
print("Producto más reciente con menos de 20% de nubosidad:")
print(más_reciente_baja_nubosidad)</code></pre>
<p><code>python jupyter={"source_hidden": true} #seleccionamos la url del producto mas reciente con nubosidad &lt; 20% url=más_reciente_baja_nubosidad["url"]</code></p>
<p>```python jupyter={“source_hidden”: true} #Visualizar el subproducto
VEG_DIST_DATE en comparación con el subproducto VEG_DIST_STATE</p>
<p>import matplotlib.pyplot as plt import geopandas as gpd import
rioxarray import numpy as np from shapely.geometry import box</p>
</div>
<div class="section level1">
<h1 id="aoi">AOI<a class="anchor" aria-label="anchor" href="#aoi"></a></h1>
<p>aoi_geom = gpd.GeoDataFrame(geometry=[box(-46.78, -4.61, -46.58,
-4.41)], crs=“EPSG:4326”)</p>
</div>
<div class="section level1">
<h1 id="subproducto-veg_dist_date">Subproducto VEG_DIST_DATE<a class="anchor" aria-label="anchor" href="#subproducto-veg_dist_date"></a></h1>
<p>url1 = más_reciente_baja_nubosidad[“url”] da1 =
rioxarray.open_rasterio(url1, masked=True).squeeze() aoi_proj =
aoi_geom.to_crs(da1.rio.crs) da1_clip = da1.rio.clip(aoi_proj.geometry,
aoi_proj.crs) masked1 = np.ma.masked_where(da1_clip &lt;= 0,
da1_clip)</p>
</div>
<div class="section level1">
<h1 id="subproducto-veg_dist_status">Subproducto VEG_DIST_STATUS<a class="anchor" aria-label="anchor" href="#subproducto-veg_dist_status"></a></h1>
<p>url2= “<a href="https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1_VEG-DIST-STATUS.tif" class="external-link uri">https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/OPERA_L3_DIST-ALERT-HLS_V1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1/OPERA_L3_DIST-ALERT-HLS_T23MLR_20230918T131723Z_20231221T085043Z_L8_30_v1_VEG-DIST-STATUS.tif</a>”
da2 = rioxarray.open_rasterio(url2, masked=True).squeeze() da2_clip =
da2.rio.clip(aoi_proj.geometry, aoi_proj.crs) masked2 =
np.ma.masked_where(da2_clip &lt;= 0, da2_clip)</p>
</div>
<div class="section level1">
<h1 id="gráfico-de-los-2-subproductos">Gráfico de los 2 subproductos<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-los-2-subproductos"></a></h1>
<p>fig, axes = plt.subplots(1, 2, figsize=(14, 6))</p>
</div>
<div class="section level1">
<h1 id="mapa-1">Mapa 1<a class="anchor" aria-label="anchor" href="#mapa-1"></a></h1>
<p>img1 = axes[0].imshow( masked1, cmap=“viridis”,
extent=da1_clip.rio.bounds(), interpolation=“nearest” )
axes[0].set_title(“VEG_DIST_DATE 17/07/2025”) axes[0].set_frame_on(True)
cbar1 = plt.colorbar(img1, ax=axes[0], shrink=0.7) cbar1.set_label(“Día
desde 2020-12-31”)</p>
</div>
<div class="section level1">
<h1 id="colormap-personalizado">colormap personalizado<a class="anchor" aria-label="anchor" href="#colormap-personalizado"></a></h1>
<p>white_to_red =
mcolors.LinearSegmentedColormap.from_list(“white_to_red”, [“white”,
“red”]) # Mapa 2 img2 = axes[1].imshow( masked2, cmap= white_to_red,
extent=da2_clip.rio.bounds(), interpolation=“nearest” )
axes[1].set_title(“VEG_DIST-STATUS 18/09/2023”)
axes[1].set_frame_on(True) cbar2 = plt.colorbar(img2, ax=axes[1],
shrink=0.7) cbar2.set_label(“Valor de disturbio”)</p>
<p>plt.tight_layout() plt.show() ```</p>
<div class="section level2">
<h2 id="section-6"><!-- #region jupyter={"source_hidden": false} --><a class="anchor" aria-label="anchor" href="#section-6"></a></h2>
<!-- #endregion -->
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</div>



      </div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Capítulo previo y siguiente"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="OPERA_products.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="index.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="OPERA_products.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: NASA Earthdata Cloud
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Inicio
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      <footer class="row footer mx-md-3"><hr><div class="col-md-6">
    <p>Este sitio fue adaptado por <a href="https://www.metadocencia.org" target="_blank" class="external-link">MetaDocencia</a> a partir de <a href="https://carpentries.github.io/sandpaper/" target="_blank" class="external-link">Carpentries Workbench</a>.</p><p><a href="https://github.com/MetaDocencia/metadocencia-workbench-template/blob/main/README.md" class="external-link">Editar en GitHub</a> | <a href="https://github.com/MetaDocencia/metadocencia-workbench-template/blob/main/CONTRIBUTING.md" class="external-link">Contribuir</a> | <a href="https://github.com/MetaDocencia/metadocencia-workbench-template" class="external-link">Repositorio</a></p><p><a href="https://github.com/MetaDocencia/metadocencia-workbench-template/blob/main/CITATION.cff" class="external-link">Citar</a> | <a href="mailto:infraestructura@metadocencia.org">Contacto</a> | <a href="https://www.metadocencia.org/institucional/" class="external-link">Quiénes somos</a></p>
  </div>
  <div class="col-md-6">
    <p>Este material está disponible bajo licencia <a href="https://creativecommons.org/licenses/by/4.0/" class="external-link">CC-BY 4.0</a>.</p>
    <p>Sitio compilado con `sandpaper` y `varnish`.</p>
  </div>
</footer></div></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

